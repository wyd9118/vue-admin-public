(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59d86c86"],{"11ff":function(t,a,e){},"7abe":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"home-top"},[e("div",{staticClass:"part left"},[e("h4",{staticClass:"home-title"},[t._v("汇总")]),e("div",{staticClass:"list"},[e("dl",{staticClass:"item"},[e("dt",[t._v(t._s(t.totalData.memberCount))]),e("dd",[t._v("总体用户")])]),e("dl",{staticClass:"item"},[e("dt",[t._v(t._s(t.totalData.projectCount))]),e("dd",[t._v("班级数量")])]),e("dl",{staticClass:"item"},[e("dt",[t._v(t._s(t.totalData.courseCount))]),e("dd",[t._v("课程数量")])]),e("dl",{staticClass:"item"},[e("dt",[t._v(t._s(t.totalData.examCount))]),e("dd",[t._v("考试数量")])])])]),e("div",{staticClass:"part right"},[e("h4",{staticClass:"home-title"},[t._v("用户状态")]),e("pie-chart",{attrs:{config:t.pieChartConfig}})],1)]),e("div",{staticClass:"home-chart"},[e("h4",{staticClass:"home-title"},[t._v("登录情况")]),e("line-chart",{attrs:{config:t.lineChartConfig}})],1)])},i=[],r=(e("4160"),e("d81d"),e("a9e3"),e("b64b"),e("159b"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:t.config.id}})}),c=[],o=e("917c"),s=e("cf45"),d={name:"PieChart",props:{config:{type:Object,default:function(){return{}}}},data:function(){return{chart:null}},watch:{config:{handler:function(t){t&&t.data.length>0&&(this.chart?(this.chart.data(t.data),this.chart.render()):this.initChart())},deep:!0}},mounted:function(){this.initChart()},methods:{resolveData:function(){this.config=Object(s["a"])(this.config,{id:"pie-chart",width:400,height:300,autoFit:!0,xAttr:"percent",type:"type",data:[]})},initChart:function(){var t=this;console.log(this.config),Array.isArray(t.config.data)&&t.config.data.length>0&&(t.chart=new o["a"]({container:t.config.id,width:t.config.width,height:t.config.height,autoFit:t.config.autoFit}),t.chart.data(t.config.data),t.chart.coordinate("theta",{radius:.8}),t.chart.tooltip({showTitle:!1,showMarkers:!1}),t.chart.scale(t.config.xAttr,{formatter:function(a){return t.config.scaleFn&&"function"===typeof t.config.scaleFn?t.config.scaleFn.call(t,a):a}}),t.chart.interval().position(t.config.xAttr).color(t.config.type).label(t.config.xAttr,{content:function(a){return t.config.labelFn&&"function"===typeof t.config.labelFn?t.config.labelFn.call(t,a):a[t.config.xAttr]}}).adjust("stack"),t.chart.render())}}},l=d,h=e("2877"),f=Object(h["a"])(l,r,c,!1,null,null,null),u=f.exports,g=e("da32"),p=e("f70a"),C=e("ccaf"),v={name:"Home",components:{PieChart:u,LineChart:g["a"]},data:function(){return{lineChartConfig:{id:"chart-box",height:300,autoFit:!0,xAttr:"range_date",yAttr:"value",yTitle:"数量",type:"type",data:[]},start:"",end:"",totalData:{},statusData:{},pieChartConfig:{id:"pie-chart",height:240,autoFit:!0,xAttr:"percent",type:"type",scaleFn:function(t){return(100*t||0)+"%"},labelFn:function(t){return t&&100*t.percent+"%"||"0%"},data:[]}}},methods:{initLearningData:function(){var t=this;Object(p["b"])({}).then((function(a){a&&0===a.errorCode&&a.data&&(t.totalData=a.data)})),Object(p["a"])({}).then((function(a){if(a&&0===a.errorCode&&a.data){var e=[{type:"已验证",count:a.data.validatingRate*a.data.memberCount,percent:a.data.validatingRate},{type:"未验证",count:a.data.unValidatingRate*a.data.memberCount,percent:a.data.unValidatingRate}];console.log(123,e),t.pieChartConfig.data=e}}))},initChart:function(){var t=this;(!t.start||!t.end)&&t.getTime(7);var a={pageNo:1,pageSize:7,startTime:t.start,endTime:t.end};Object(p["c"])(a).then((function(a){if(a&&0===a.errorCode&&a.data){var e={brow_count:"登录人数"},n=a.data.records,i=[];Array.isArray(n)&&(n.forEach((function(t){Array.prototype.push.apply(i,Object.keys(e).map((function(a){return{range_date:t.range_date,type:e[a],value:t[a]}})))})),t.lineChartConfig.data=i)}else t.$alert(a.msg||"数据查询失败")})).catch()},getTime:function(t){t=Number(t)||7,this.start=Object(C["b"])(t,"days","YYYY-MM-DD"),this.end=Object(C["a"])(new Date,"YYYY-MM-DD")}},created:function(){this.initLearningData(),this.initChart()}},m=v,b=(e("e038"),Object(h["a"])(m,n,i,!1,null,"42b09243",null));a["default"]=b.exports},e038:function(t,a,e){"use strict";var n=e("11ff"),i=e.n(n);i.a}}]);